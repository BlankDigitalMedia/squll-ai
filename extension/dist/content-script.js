var on=Array.isArray,fn=Array.prototype.indexOf,un=Array.from,an=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,cn=Object.prototype,dn=Array.prototype,hn=Object.getPrototypeOf,oe=Object.isExtensible;function vn(t){for(var e=0;e<t.length;e++)t[e]()}function me(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const k=2,At=4,Kt=8,W=16,Q=32,st=64,Dt=128,F=512,T=1024,D=2048,$=4096,K=8192,nt=16384,Gt=32768,Mt=65536,fe=1<<17,we=1<<18,ht=1<<19,_n=1<<20,mt=32768,qt=1<<21,Zt=1<<22,G=1<<23,kt=Symbol("$state"),ft=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function pn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function gn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function yn(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function wn(t){throw new Error("https://svelte.dev/e/effect_orphan")}function bn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function En(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Sn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function kn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ln=2,E=Symbol();function Tn(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function be(t){return t===this.v}let I=null;function at(t){I=t}function Qt(t,e=!1,n){I={p:I,i:!1,c:null,e:null,s:t,x:null,l:null}}function te(t){var e=I,n=e.e;if(n!==null){e.e=null;for(var r of n)Oe(r)}return e.i=!0,I=e.p,{}}function xe(){return!0}let ut=[];function Rn(){var t=ut;ut=[],vn(t)}function Ot(t){if(ut.length===0){var e=ut;queueMicrotask(()=>{e===ut&&Rn()})}ut.push(t)}function Ee(t){var e=y;if(e===null)return p.f|=G,t;if((e.f&Gt)===0){if((e.f&Dt)===0)throw t;e.b.error(t)}else ct(t,e)}function ct(t,e){for(;e!==null;){if((e.f&Dt)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Et=new Set;let S=null,P=null,J=[],ee=null,Ut=!1;class B{committed=!1;current=new Map;previous=new Map;#n=new Set;#r=new Set;#a=0;#s=0;#f=null;#l=[];#i=[];skipped_effects=new Set;is_fork=!1;process(e){J=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#t(r,n);this.is_fork||this.#o(),this.#s>0||this.is_fork?(this.#e(n.effects),this.#e(n.render_effects),this.#e(n.block_effects)):(S=null,ue(n.render_effects),ue(n.effects),this.#f?.resolve()),P=null}#t(e,n){e.f^=T;for(var r=e.first;r!==null;){var i=r.f,s=(i&(Q|st))!==0,f=s&&(i&T)!==0,u=f||(i&K)!==0||this.skipped_effects.has(r);if((r.f&Dt)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!u&&r.fn!==null){s?r.f^=T:(i&At)!==0?n.effects.push(r):xt(r)&&((r.f&W)!==0&&n.block_effects.push(r),bt(r));var l=r.first;if(l!==null){r=l;continue}}var o=r.parent;for(r=r.next;r===null&&o!==null;)o===n.effect&&(this.#e(n.effects),this.#e(n.render_effects),this.#e(n.block_effects),n=n.parent),r=o.next,o=o.parent}}#e(e){for(const n of e)((n.f&D)!==0?this.#l:this.#i).push(n),R(n,T)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&G)===0&&(this.current.set(e,e.v),P?.set(e,e.v))}activate(){S=this,this.apply()}deactivate(){S=null,P=null}flush(){if(this.activate(),J.length>0){if(Mn(),S!==null&&S!==this)return}else this.#a===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#r)e(this);this.#r.clear()}#o(){if(this.#s===0){for(const e of this.#n)e();this.#n.clear()}this.#a===0&&this.#u()}#u(){if(Et.size>1){this.previous.clear();var e=P,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of Et){if(i===this){n=!1;continue}const s=[];for(const[u,l]of this.current){if(i.current.has(u))if(n&&l!==i.current.get(u))i.current.set(u,l);else continue;s.push(u)}if(s.length===0)continue;const f=[...i.current.keys()].filter(u=>!this.current.has(u));if(f.length>0){const u=new Set,l=new Map;for(const o of s)Se(o,f,u,l);if(J.length>0){S=i,i.apply();for(const o of J)i.#t(o,r);J=[],i.deactivate()}}}S=null,P=e}this.committed=!0,Et.delete(this)}increment(e){this.#a+=1,e&&(this.#s+=1)}decrement(e){this.#a-=1,e&&(this.#s-=1),this.revive()}revive(){for(const e of this.#l)R(e,D),dt(e);for(const e of this.#i)R(e,$),dt(e);this.#l=[],this.#i=[],this.flush()}oncommit(e){this.#n.add(e)}ondiscard(e){this.#r.add(e)}settled(){return(this.#f??=me()).promise}static ensure(){if(S===null){const e=S=new B;Et.add(S),B.enqueue(()=>{S===e&&e.flush()})}return S}static enqueue(e){Ot(e)}apply(){}}function Mn(){var t=rt;Ut=!0;try{var e=0;for(ce(!0);J.length>0;){var n=B.ensure();if(e++>1e3){var r,i;Nn()}n.process(J),Z.clear()}}finally{Ut=!1,ce(t),ee=null}}function Nn(){try{bn()}catch(t){ct(t,ee)}}let q=null;function ue(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(nt|K))===0&&xt(r)&&(q=new Set,bt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?He(r):r.fn=null),q?.size>0)){Z.clear();for(const i of q){if((i.f&(nt|K))!==0)continue;const s=[i];let f=i.parent;for(;f!==null;)q.has(f)&&(q.delete(f),s.push(f)),f=f.parent;for(let u=s.length-1;u>=0;u--){const l=s[u];(l.f&(nt|K))===0&&bt(l)}}q.clear()}}q=null}}function Se(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&k)!==0?Se(i,e,n,r):(s&(Zt|W))!==0&&(s&D)===0&&ke(i,e,r)&&(R(i,D),dt(i))}}function ke(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&k)!==0&&ke(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function dt(t){for(var e=ee=t;e.parent!==null;){e=e.parent;var n=e.f;if(Ut&&e===y&&(n&W)!==0&&(n&we)===0)return;if((n&(st|Q))!==0){if((n&T)===0)return;e.f^=T}}J.push(e)}function Cn(t){let e=0,n=zt(0),r;return()=>{Ft()&&(h(n),ze(()=>(e===0&&(r=ie(()=>t(()=>yt(n)))),e+=1,()=>{Ot(()=>{e-=1,e===0&&(r?.(),r=void 0,yt(n))})})))}}var Pn=Mt|ht|Dt;function In(t,e,n){new An(t,e,n)}class An{parent;#n=!1;#r;#a=null;#s;#f;#l;#i=null;#t=null;#e=null;#o=null;#u=null;#h=0;#c=0;#v=!1;#d=null;#m=Cn(()=>(this.#d=zt(this.#h),()=>{this.#d=null}));constructor(e,n,r){this.#r=e,this.#s=n,this.#f=r,this.parent=y.b,this.#n=!!this.#s.pending,this.#l=Jn(()=>{y.b=this;{var i=this.#g();try{this.#i=tt(()=>r(i))}catch(s){this.error(s)}this.#c>0?this.#p():this.#n=!1}return()=>{this.#u?.remove()}},Pn)}#w(){try{this.#i=tt(()=>this.#f(this.#r))}catch(e){this.error(e)}this.#n=!1}#b(){const e=this.#s.pending;e&&(this.#t=tt(()=>e(this.#r)),B.enqueue(()=>{var n=this.#g();this.#i=this.#_(()=>(B.ensure(),tt(()=>this.#f(n)))),this.#c>0?this.#p():(Lt(this.#t,()=>{this.#t=null}),this.#n=!1)}))}#g(){var e=this.#r;return this.#n&&(this.#u=Ie(),this.#r.before(this.#u),e=this.#u),e}is_pending(){return this.#n||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#_(e){var n=y,r=p,i=I;V(this.#l),M(this.#l),at(this.#l.ctx);try{return e()}catch(s){return Ee(s),null}finally{V(n),M(r),at(i)}}#p(){const e=this.#s.pending;this.#i!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#u),Qn(this.#i,this.#o)),this.#t===null&&(this.#t=tt(()=>e(this.#r)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#c+=e,this.#c===0&&(this.#n=!1,this.#t&&Lt(this.#t,()=>{this.#t=null}),this.#o&&(this.#r.before(this.#o),this.#o=null))}update_pending_count(e){this.#y(e),this.#h+=e,this.#d&&Ct(this.#d,this.#h)}get_effect_pending(){return this.#m(),h(this.#d)}error(e){var n=this.#s.onerror;let r=this.#s.failed;if(this.#v||!n&&!r)throw e;this.#i&&(j(this.#i),this.#i=null),this.#t&&(j(this.#t),this.#t=null),this.#e&&(j(this.#e),this.#e=null);var i=!1,s=!1;const f=()=>{if(i){Tn();return}i=!0,s&&kn(),B.ensure(),this.#h=0,this.#e!==null&&Lt(this.#e,()=>{this.#e=null}),this.#n=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#v=!1,tt(()=>this.#f(this.#r)))),this.#c>0?this.#p():this.#n=!1};var u=p;try{M(null),s=!0,n?.(e,f),s=!1}catch(l){ct(l,this.#l&&this.#l.parent)}finally{M(u)}r&&Ot(()=>{this.#e=this.#_(()=>{B.ensure(),this.#v=!0;try{return tt(()=>{r(this.#r,()=>e,()=>f)})}catch(l){return ct(l,this.#l.parent),null}finally{this.#v=!1}})})}}function Dn(t,e,n,r){const i=zn;if(n.length===0&&t.length===0){r(e.map(i));return}var s=S,f=y,u=On();function l(){Promise.all(n.map(o=>Fn(o))).then(o=>{u();try{r([...e.map(i),...o])}catch(d){(f.f&nt)===0&&ct(d,f)}s?.deactivate(),Nt()}).catch(o=>{ct(o,f)})}t.length>0?Promise.all(t).then(()=>{u();try{return l()}finally{s?.deactivate(),Nt()}}):l()}function On(){var t=y,e=p,n=I,r=S;return function(s=!0){V(t),M(e),at(n),s&&r?.activate()}}function Nt(){V(null),M(null),at(null)}function zn(t){var e=k|D,n=p!==null&&(p.f&k)!==0?p:null;return y!==null&&(y.f|=ht),{ctx:I,deps:null,effects:null,equals:be,f:e,fn:t,reactions:null,rv:0,v:E,wv:0,parent:n??y,ac:null}}function Fn(t,e){let n=y;n===null&&gn();var r=n.b,i=void 0,s=zt(E),f=!p,u=new Map;return Xn(()=>{var l=me();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{o===S&&o.committed&&o.deactivate(),Nt()})}catch(a){l.reject(a),Nt()}var o=S;if(f){var d=!r.is_pending();r.update_pending_count(1),o.increment(d),u.get(o)?.reject(ft),u.delete(o),u.set(o,l)}const v=(a,c=void 0)=>{if(o.activate(),c)c!==ft&&(s.f|=G,Ct(s,c));else{(s.f&G)!==0&&(s.f^=G),Ct(s,a);for(const[w,g]of u){if(u.delete(w),w===o)break;g.reject(ft)}}f&&(r.update_pending_count(-1),o.decrement(d))};l.promise.then(v,a=>v(null,a||"unknown"))}),qn(()=>{for(const l of u.values())l.reject(ft)}),new Promise(l=>{function o(d){function v(){d===i?l(s):o(i)}d.then(v,v)}o(i)})}function Le(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)j(e[n])}}function Bn(t){for(var e=t.parent;e!==null;){if((e.f&k)===0)return e;e=e.parent}return null}function ne(t){var e,n=y;V(Bn(t));try{t.f&=~mt,Le(t),e=We(t)}finally{V(n)}return e}function Te(t){var e=ne(t);if(t.equals(e)||(t.v=e,t.wv=qe()),!vt)if(P!==null)Ft()&&P.set(t,t.v);else{var n=(t.f&F)===0?$:T;R(t,n)}}let Wt=new Set;const Z=new Map;let Re=!1;function zt(t,e){var n={f:0,v:t,reactions:null,equals:be,rv:0,wv:0};return n}function b(t,e){const n=zt(t);return tr(n),n}function m(t,e,n=!1){p!==null&&(!H||(p.f&fe)!==0)&&xe()&&(p.f&(k|W|Zt|fe))!==0&&!U?.includes(t)&&Sn();let r=n?Y(e):e;return Ct(t,r)}function Ct(t,e){if(!t.equals(e)){var n=t.v;vt?Z.set(t,e):Z.set(t,n),t.v=e;var r=B.ensure();r.capture(t,n),(t.f&k)!==0&&((t.f&D)!==0&&ne(t),R(t,(t.f&F)!==0?T:$)),t.wv=qe(),Me(t,D),y!==null&&(y.f&T)!==0&&(y.f&(Q|st))===0&&(A===null?er([t]):A.push(t)),!r.is_fork&&Wt.size>0&&!Re&&Yn()}return e}function Yn(){Re=!1;const t=Array.from(Wt);for(const e of t)(e.f&T)!==0&&R(e,$),xt(e)&&bt(e);Wt.clear()}function yt(t){m(t,t.v+1)}function Me(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],f=s.f,u=(f&D)===0;if(u&&R(s,e),(f&k)!==0){var l=s;P?.delete(l),(f&mt)===0&&(f&F&&(s.f|=mt),Me(l,$))}else u&&((f&W)!==0&&q!==null&&q.add(s),dt(s))}}function Y(t){if(typeof t!="object"||t===null||kt in t)return t;const e=hn(t);if(e!==cn&&e!==dn)return t;var n=new Map,r=on(t),i=b(0),s=it,f=u=>{if(it===s)return u();var l=p,o=it;M(null),he(s);var d=u();return M(l),he(o),d};return r&&n.set("length",b(t.length)),new Proxy(t,{defineProperty(u,l,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&xn();var d=n.get(l);return d===void 0?d=f(()=>{var v=b(o.value);return n.set(l,v),v}):m(d,o.value,!0),!0},deleteProperty(u,l){var o=n.get(l);if(o===void 0){if(l in u){const d=f(()=>b(E));n.set(l,d),yt(i)}}else m(o,E),yt(i);return!0},get(u,l,o){if(l===kt)return t;var d=n.get(l),v=l in u;if(d===void 0&&(!v||gt(u,l)?.writable)&&(d=f(()=>{var c=Y(v?u[l]:E),w=b(c);return w}),n.set(l,d)),d!==void 0){var a=h(d);return a===E?void 0:a}return Reflect.get(u,l,o)},getOwnPropertyDescriptor(u,l){var o=Reflect.getOwnPropertyDescriptor(u,l);if(o&&"value"in o){var d=n.get(l);d&&(o.value=h(d))}else if(o===void 0){var v=n.get(l),a=v?.v;if(v!==void 0&&a!==E)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return o},has(u,l){if(l===kt)return!0;var o=n.get(l),d=o!==void 0&&o.v!==E||Reflect.has(u,l);if(o!==void 0||y!==null&&(!d||gt(u,l)?.writable)){o===void 0&&(o=f(()=>{var a=d?Y(u[l]):E,c=b(a);return c}),n.set(l,o));var v=h(o);if(v===E)return!1}return d},set(u,l,o,d){var v=n.get(l),a=l in u;if(r&&l==="length")for(var c=o;c<v.v;c+=1){var w=n.get(c+"");w!==void 0?m(w,E):c in u&&(w=f(()=>b(E)),n.set(c+"",w))}if(v===void 0)(!a||gt(u,l)?.writable)&&(v=f(()=>b(void 0)),m(v,Y(o)),n.set(l,v));else{a=v.v!==E;var g=f(()=>Y(o));m(v,g)}var x=Reflect.getOwnPropertyDescriptor(u,l);if(x?.set&&x.set.call(d,o),!a){if(r&&typeof l=="string"){var N=n.get("length"),O=Number(l);Number.isInteger(O)&&O>=N.v&&m(N,O+1)}yt(i)}return!0},ownKeys(u){h(i);var l=Reflect.ownKeys(u).filter(v=>{var a=n.get(v);return a===void 0||a.v!==E});for(var[o,d]of n)d.v!==E&&!(o in u)&&l.push(o);return l},setPrototypeOf(){En()}})}var ae,Ne,Ce,Pe;function Hn(){if(ae===void 0){ae=window,Ne=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ce=gt(e,"firstChild").get,Pe=gt(e,"nextSibling").get,oe(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),oe(n)&&(n.__t=void 0)}}function Ie(t=""){return document.createTextNode(t)}function Ae(t){return Ce.call(t)}function re(t){return Pe.call(t)}function Yt(t,e){return Ae(t)}function Ht(t,e=1,n=!1){let r=t;for(;e--;)r=re(r);return r}function De(t){var e=p,n=y;M(null),V(null);try{return t()}finally{M(e),V(n)}}function jn(t){y===null&&(p===null&&wn(),mn()),vt&&yn()}function Vn(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function X(t,e,n,r=!0){var i=y;i!==null&&(i.f&K)!==0&&(t|=K);var s={ctx:I,deps:null,nodes_start:null,nodes_end:null,f:t|D|F,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{bt(s),s.f|=Gt}catch(l){throw j(s),l}else e!==null&&dt(s);if(r){var f=s;if(n&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&ht)===0&&(f=f.first,(t&W)!==0&&(t&Mt)!==0&&f!==null&&(f.f|=Mt)),f!==null&&(f.parent=i,i!==null&&Vn(f,i),p!==null&&(p.f&k)!==0&&(t&st)===0)){var u=p;(u.effects??=[]).push(f)}}return s}function Ft(){return p!==null&&!H}function qn(t){const e=X(Kt,null,!1);return R(e,T),e.teardown=t,e}function Un(t){jn();var e=y.f,n=!p&&(e&Q)!==0&&(e&Gt)===0;if(n){var r=I;(r.e??=[]).push(t)}else return Oe(t)}function Oe(t){return X(At|_n,t,!1)}function Wn(t){B.ensure();const e=X(st|ht,t,!0);return(n={})=>new Promise(r=>{n.outro?Lt(e,()=>{j(e),r(void 0)}):(j(e),r(void 0))})}function $n(t){return X(At,t,!1)}function Xn(t){return X(Zt|ht,t,!0)}function ze(t,e=0){return X(Kt|e,t,!0)}function Fe(t,e=[],n=[],r=[],i=!1){Dn(r,e,n,s=>{X(i?At:Kt,()=>t(...s.map(h)),!0)})}function Jn(t,e=0){var n=X(W|e,t,!0);return n}function tt(t,e=!0){return X(Q|ht,t,!0,e)}function Be(t){var e=t.teardown;if(e!==null){const n=vt,r=p;de(!0),M(null);try{e.call(null)}finally{de(n),M(r)}}}function Ye(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&De(()=>{i.abort(ft)});var r=n.next;(n.f&st)!==0?n.parent=null:j(n,e),n=r}}function Kn(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Q)===0&&j(e),e=n}}function j(t,e=!0){var n=!1;(e||(t.f&we)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Gn(t.nodes_start,t.nodes_end),n=!0),Ye(t,e&&!n),Pt(t,0),R(t,nt);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Be(t);var i=t.parent;i!==null&&i.first!==null&&He(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Gn(t,e){for(;t!==null;){var n=t===e?null:re(t);t.remove(),t=n}}function He(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Lt(t,e,n=!0){var r=[];je(t,r,!0),Zn(r,()=>{n&&j(t),e&&e()})}function Zn(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function je(t,e,n){if((t.f&K)===0){if(t.f^=K,t.transitions!==null)for(const f of t.transitions)(f.is_global||n)&&e.push(f);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&Mt)!==0||(r.f&Q)!==0&&(t.f&W)!==0;je(r,e,s?n:!1),r=i}}}function Qn(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:re(n);e.append(n),n=i}}let rt=!1;function ce(t){rt=t}let vt=!1;function de(t){vt=t}let p=null,H=!1;function M(t){p=t}let y=null;function V(t){y=t}let U=null;function tr(t){p!==null&&(U===null?U=[t]:U.push(t))}let L=null,C=0,A=null;function er(t){A=t}let Ve=1,wt=0,it=wt;function he(t){it=t}function qe(){return++Ve}function xt(t){var e=t.f;if((e&D)!==0)return!0;if(e&k&&(t.f&=~mt),(e&$)!==0){var n=t.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(xt(s)&&Te(s),s.wv>t.wv)return!0}(e&F)!==0&&P===null&&R(t,T)}return!1}function Ue(t,e,n=!0){var r=t.reactions;if(r!==null&&!U?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&k)!==0?Ue(s,e,!1):e===s&&(n?R(s,D):(s.f&T)!==0&&R(s,$),dt(s))}}function We(t){var e=L,n=C,r=A,i=p,s=U,f=I,u=H,l=it,o=t.f;L=null,C=0,A=null,p=(o&(Q|st))===0?t:null,U=null,at(t.ctx),H=!1,it=++wt,t.ac!==null&&(De(()=>{t.ac.abort(ft)}),t.ac=null);try{t.f|=qt;var d=t.fn,v=d(),a=t.deps;if(L!==null){var c;if(Pt(t,C),a!==null&&C>0)for(a.length=C+L.length,c=0;c<L.length;c++)a[C+c]=L[c];else t.deps=a=L;if(rt&&Ft()&&(t.f&F)!==0)for(c=C;c<a.length;c++)(a[c].reactions??=[]).push(t)}else a!==null&&C<a.length&&(Pt(t,C),a.length=C);if(xe()&&A!==null&&!H&&a!==null&&(t.f&(k|$|D))===0)for(c=0;c<A.length;c++)Ue(A[c],t);return i!==null&&i!==t&&(wt++,A!==null&&(r===null?r=A:r.push(...A))),(t.f&G)!==0&&(t.f^=G),v}catch(w){return Ee(w)}finally{t.f^=qt,L=e,C=n,A=r,p=i,U=s,at(f),H=u,it=l}}function nr(t,e){let n=e.reactions;if(n!==null){var r=fn.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&k)!==0&&(L===null||!L.includes(e))&&(R(e,$),(e.f&F)!==0&&(e.f^=F,e.f&=~mt),Le(e),Pt(e,0))}function Pt(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)nr(t,n[r])}function bt(t){var e=t.f;if((e&nt)===0){R(t,T);var n=y,r=rt;y=t,rt=!0;try{(e&W)!==0?Kn(t):Ye(t),Be(t);var i=We(t);t.teardown=typeof i=="function"?i:null,t.wv=Ve;var s}finally{rt=r,y=n}}}function h(t){var e=t.f,n=(e&k)!==0;if(p!==null&&!H){var r=y!==null&&(y.f&nt)!==0;if(!r&&!U?.includes(t)){var i=p.deps;if((p.f&qt)!==0)t.rv<wt&&(t.rv=wt,L===null&&i!==null&&i[C]===t?C++:L===null?L=[t]:L.includes(t)||L.push(t));else{(p.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[p]:s.includes(p)||s.push(p)}}}if(vt){if(Z.has(t))return Z.get(t);if(n){var f=t,u=f.v;return((f.f&T)===0&&f.reactions!==null||Xe(f))&&(u=ne(f)),Z.set(f,u),u}}else if(n){if(f=t,P?.has(f))return P.get(f);xt(f)&&Te(f),rt&&Ft()&&(f.f&F)===0&&$e(f)}else if(P?.has(t))return P.get(t);if((t.f&G)!==0)throw t.v;return t.v}function $e(t){if(t.deps!==null){t.f^=F;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&k)!==0&&(e.f&F)===0&&$e(e)}}function Xe(t){if(t.v===E)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Z.has(e)||(e.f&k)!==0&&Xe(e))return!0;return!1}function ie(t){var e=H;try{return H=!0,t()}finally{H=e}}const rr=-7169;function R(t,e){t.f=t.f&rr|e}const ir=["touchstart","touchmove"];function sr(t){return ir.includes(t)}const Je=new Set,$t=new Set;function Ke(t){for(var e=0;e<t.length;e++)Je.add(t[e]);for(var n of $t)n(t)}let ve=null;function St(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;ve=t;var f=0,u=ve===t&&t.__root;if(u){var l=i.indexOf(u);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var o=i.indexOf(e);if(o===-1)return;l<=o&&(f=l)}if(s=i[f]||t.target,s!==e){an(t,"currentTarget",{configurable:!0,get(){return s||n}});var d=p,v=y;M(null),V(null);try{for(var a,c=[];s!==null;){var w=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||t.target===s)&&g.call(s,t)}catch(x){a?c.push(x):a=x}if(t.cancelBubble||w===e||w===null)break;s=w}if(a){for(let x of c)queueMicrotask(()=>{throw x});throw a}}finally{t.__root=e,delete t.currentTarget,M(d),V(v)}}}function lr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function or(t,e){var n=y;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Ge(t,e){var n=(e&Ln)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=lr(i?t:"<!>"+t),r=Ae(r));var s=n||Ne?document.importNode(r,!0):r.cloneNode(!0);return or(s,s),s}}function Ze(t,e){t!==null&&t.before(e)}function jt(t,e){return fr(t,e)}const ot=new Map;function fr(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:f=!0}){Hn();var u=new Set,l=v=>{for(var a=0;a<v.length;a++){var c=v[a];if(!u.has(c)){u.add(c);var w=sr(c);e.addEventListener(c,St,{passive:w});var g=ot.get(c);g===void 0?(document.addEventListener(c,St,{passive:w}),ot.set(c,1)):ot.set(c,g+1)}}};l(un(Je)),$t.add(l);var o=void 0,d=Wn(()=>{var v=n??e.appendChild(Ie());return In(v,{pending:()=>{}},a=>{if(s){Qt({});var c=I;c.c=s}i&&(r.$$events=i),o=t(a,r)||{},s&&te()}),()=>{for(var a of u){e.removeEventListener(a,St);var c=ot.get(a);--c===0?(document.removeEventListener(a,St),ot.delete(a)):ot.set(a,c)}$t.delete(l),v!==n&&v.parentNode?.removeChild(v)}});return ur.set(o,d),o}let ur=new WeakMap;const _e=[...` 	
\r\f \v\uFEFF`];function ar(t,e,n){var r=t==null?"":""+t;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,f=0;(f=r.indexOf(i,f))>=0;){var u=f+s;(f===0||_e.includes(r[f-1]))&&(u===r.length||_e.includes(r[u]))?r=(f===0?"":r.substring(0,f))+r.substring(u+1):f=u}}return r===""?null:r}function Qe(t,e,n,r,i,s){var f=t.__className;if(f!==n||f===void 0){var u=ar(n,r,s);u==null?t.removeAttribute("class"):t.className=u,t.__className=n}else if(s&&i!==s)for(var l in s){var o=!!s[l];(i==null||o!==!!i[l])&&t.classList.toggle(l,o)}return s}function pe(t,e){return t===e||t?.[kt]===e}function Xt(t={},e,n,r){return $n(()=>{var i,s;return ze(()=>{i=s,s=[],ie(()=>{t!==n(...s)&&(e(t,...s),i&&pe(n(...i),t)&&e(null,...i))})}),()=>{Ot(()=>{s&&pe(n(...s),t)&&e(null,...s)})}}),t}function tn(t){I===null&&pn(),Un(()=>{const e=ie(t);if(typeof e=="function")return e})}const cr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(cr);function _t(){try{return typeof chrome<"u"&&!!chrome.runtime?.id}catch{return!1}}async function dr(){return new Promise(t=>{try{if(!_t()){t(localStorage.getItem("cs_note")||"");return}chrome.storage.sync.get(["content"],e=>{if(chrome.runtime?.lastError){t(localStorage.getItem("cs_note")||"");return}t(e.content||"")})}catch{t(localStorage.getItem("cs_note")||"")}})}async function hr(t){try{if(!_t()){localStorage.setItem("cs_note",t);return}await chrome.storage.sync.set({content:t})}catch{try{localStorage.setItem("cs_note",t)}catch{}}}async function ge(){return new Promise(t=>{const e=()=>{try{const n=localStorage.getItem("cs_layout");t(n?JSON.parse(n):{})}catch{t({})}};try{if(!_t()){e();return}chrome.storage.sync.get(["layout"],n=>{if(chrome.runtime?.lastError){e();return}t(n.layout||{})})}catch{e()}})}async function Jt(t){try{if(!_t()){localStorage.setItem("cs_layout",JSON.stringify(t));return}await chrome.storage.sync.set({layout:t})}catch{try{localStorage.setItem("cs_layout",JSON.stringify(t))}catch{}}}async function vr(){return new Promise(t=>{const e=()=>{try{const n=localStorage.getItem("cs_button_layout");t(n?JSON.parse(n):{})}catch{t({})}};try{if(!_t()){e();return}chrome.storage.sync.get(["buttonLayout"],n=>{if(chrome.runtime?.lastError){e();return}t(n.buttonLayout||{})})}catch{e()}})}async function _r(t){try{if(!_t()){localStorage.setItem("cs_button_layout",JSON.stringify(t));return}await chrome.storage.sync.set({buttonLayout:t})}catch{try{localStorage.setItem("cs_button_layout",JSON.stringify(t))}catch{}}}var pr=Ge('<div><div class="header svelte-1ou1zgf" role="button" tabindex="0" aria-label="Drag to move panel"><div class="header-title svelte-1ou1zgf">Notes</div> <button class="minimize-button svelte-1ou1zgf" aria-label="Minimize panel" title="Minimize">−</button></div> <div class="editor-container svelte-1ou1zgf"><div class="editor svelte-1ou1zgf" contenteditable="true" role="textbox" aria-label="Note editor"></div></div> <div class="resize-handle svelte-1ou1zgf" role="button" tabindex="0" aria-label="Resize panel"></div></div>');function gr(t,e){Qt(e,!0);let n=b(""),r=b(null),i=b(!1),s=b(!1),f=b(Y({x:0,y:0})),u=b(Y({x:0,y:0,width:0,height:0})),l=b(null),o=b(null),d=null;function v(_){d&&clearTimeout(d),d=setTimeout(()=>{hr(_)},300)}function a(_){const z=_.target;m(n,z.innerText||"",!0),v(h(n))}function c(_){if(!h(l))return;m(i,!0);const z=h(l).getBoundingClientRect();m(f,{x:_.clientX-z.left,y:_.clientY-z.top},!0),_.preventDefault(),_.stopPropagation()}function w(_){if(!h(l))return;m(s,!0);const z=h(l).getBoundingClientRect();m(u,{x:_.clientX,y:_.clientY,width:z.width,height:z.height},!0),_.preventDefault(),_.stopPropagation()}function g(_){if(h(i)&&h(l)&&h(o)){const z=_.clientX-h(f).x,Bt=_.clientY-h(f).y;h(o).style.left=`${Math.max(0,Math.min(z,window.innerWidth-100))}px`,h(o).style.top=`${Math.max(0,Math.min(Bt,window.innerHeight-100))}px`}if(h(s)&&h(l)&&h(o)){const z=_.clientX-h(u).x,Bt=_.clientY-h(u).y,sn=h(u).width+z,ln=h(u).height+Bt;h(o).style.width=`${Math.max(300,sn)}px`,h(o).style.height=`${Math.max(200,ln)}px`}}function x(){if((h(i)||h(s))&&h(o)&&e.onLayoutChange){const _=h(o).getBoundingClientRect();e.onLayoutChange({x:_.left,y:_.top,width:_.width,height:_.height})}m(i,!1),m(s,!1)}function N(){e.onMinimize&&e.onMinimize()}tn(()=>(m(o,document.getElementById("extension-root"),!0),dr().then(_=>{m(n,_,!0),h(r)&&_&&(h(r).textContent=_)}),document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x),d&&clearTimeout(d)}));var O=pr();let pt;var lt=Yt(O);lt.__mousedown=c;var nn=Ht(Yt(lt),2);nn.__click=_=>{_.stopPropagation(),N()};var se=Ht(lt,2),le=Yt(se);le.__input=a,Xt(le,_=>m(r,_),()=>h(r));var rn=Ht(se,2);rn.__mousedown=w,Xt(O,_=>m(l,_),()=>h(l)),Fe(()=>pt=Qe(O,1,"panel svelte-1ou1zgf",null,pt,{dragging:h(i),resizing:h(s)})),Ze(t,O),te()}Ke(["mousedown","click","input"]);var yr=Ge('<button tabindex="0" aria-label="Toggle note panel">B</button>');function ye(t,e){Qt(e,!0);let n=b(null),r=b(!1),i=b(!1),s=b(Y({x:0,y:0})),f=b(Y({x:0,y:0})),u=b(null),l=Y({x:0,y:0});function o(g){if(!h(n))return;m(r,!0),m(i,!1);const x=h(n).getBoundingClientRect();m(s,{x:g.clientX-x.left,y:g.clientY-x.top},!0),m(f,{x:g.clientX,y:g.clientY},!0),g.preventDefault(),g.stopPropagation()}function d(g){if(h(r)&&h(n)&&h(u)){const x=g.clientX-h(s).x,N=g.clientY-h(s).y,O=56,pt=Math.max(0,Math.min(x,window.innerWidth-O)),lt=Math.max(0,Math.min(N,window.innerHeight-O));(Math.abs(g.clientX-h(f).x)>5||Math.abs(g.clientY-h(f).y)>5)&&m(i,!0),l.x=pt,l.y=lt,h(u).style.left=`${pt}px`,h(u).style.top=`${lt}px`}}function v(){h(r)&&h(u)&&l.x!==void 0&&l.y!==void 0&&_r({x:l.x,y:l.y}),m(r,!1)}function a(g){!h(i)&&e.onToggle&&e.onToggle(),m(i,!1)}tn(()=>{if(m(u,document.getElementById("button-root"),!0),!!h(u))return vr().then(g=>{const N={...{x:window.innerWidth*.02,y:window.innerHeight*.9},...g};N.x!==void 0&&N.y!==void 0&&(l.x=N.x,l.y=N.y,h(u).style.left=`${N.x}px`,h(u).style.top=`${N.y}px`)}),document.addEventListener("mousemove",d),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",v)}});var c=yr();let w;c.__mousedown=o,c.__click=a,Xt(c,g=>m(n,g),()=>h(n)),Fe(()=>w=Qe(c,1,"floating-button svelte-1q8htkr",null,w,{dragging:h(r)})),Ze(t,c),te()}Ke(["mousedown","click"]);let Vt=null,et=null,It=null;function Tt(t){It&&(It.style.display=t?"block":"none")}function en(){if(et)return;const t=document.getElementById("extension-root");if(t&&t.shadowRoot){et=t,t.shadowRoot;const o=document.getElementById("button-root");if(o&&(It=o,(!o.style.left||!o.style.top)&&(o.style.left=`${window.innerWidth*.02}px`,o.style.top=`${window.innerHeight*.9}px`),!Vt&&o.shadowRoot&&o.shadowRoot.childNodes.length===0)){const d=o.shadowRoot;if(!Array.from(d.querySelectorAll("link")).some(c=>c.href.includes("content-script.css"))){const c=document.createElement("link");c.rel="stylesheet",c.href=chrome.runtime.getURL("content-script.css"),d.appendChild(c)}const a=document.createElement("div");a.style.pointerEvents="auto",d.appendChild(a),Vt=jt(ye,{target:a,props:{onToggle:()=>{Rt()}}})}ge().then(d=>{const a={...{x:window.innerWidth*.15,y:window.innerHeight*.1,width:window.innerWidth*.49,height:window.innerHeight*.8,visible:d.visible!==void 0?d.visible:!0},...d};a.x!==void 0&&a.y!==void 0&&(t.style.left=`${a.x}px`,t.style.top=`${a.y}px`),a.width!==void 0&&a.height!==void 0&&(t.style.width=`${a.width}px`,t.style.height=`${a.height}px`),t.style.display=a.visible?"block":"none",Tt(!a.visible),d.minimized&&Tt(!0)});return}const e=document.createElement("div");e.id="extension-root",e.style.position="fixed",e.style.zIndex="2147483647",e.style.pointerEvents="none",document.documentElement.appendChild(e);const n=e.attachShadow({mode:"open"}),r=document.createElement("link");r.rel="stylesheet",r.href=chrome.runtime.getURL("content-script.css"),n.appendChild(r);const i=document.createElement("div");i.style.pointerEvents="auto",i.style.width="100%",i.style.height="100%",n.appendChild(i);const s=document.createElement("div");s.id="button-root",s.style.position="fixed",s.style.zIndex="2147483647",s.style.pointerEvents="none",s.style.left=`${window.innerWidth*.02}px`,s.style.top=`${window.innerHeight*.9}px`,document.documentElement.appendChild(s);const f=s.attachShadow({mode:"open"}),u=document.createElement("link");u.rel="stylesheet",u.href=chrome.runtime.getURL("content-script.css"),f.appendChild(u);const l=document.createElement("div");l.style.pointerEvents="auto",f.appendChild(l),It=s,Vt=jt(ye,{target:l,props:{onToggle:()=>{Rt()}}}),et=e,ge().then(o=>{const v={...{x:window.innerWidth*.15,y:window.innerHeight*.1,width:window.innerWidth*.49,height:window.innerHeight*.8,visible:o.visible!==void 0?o.visible:!0},...o};v.x!==void 0&&v.y!==void 0&&(e.style.left=`${v.x}px`,e.style.top=`${v.y}px`),v.width!==void 0&&v.height!==void 0&&(e.style.width=`${v.width}px`,e.style.height=`${v.height}px`),e.style.display=v.visible?"block":"none",jt(gr,{target:i,props:{onLayoutChange:a=>{Jt(a)},onMinimize:()=>{Rt()}}}),Tt(!v.visible)})}function Rt(){if(!et){en();return}const e=!(et.style.display!=="none");if(e)Jt({visible:!0,minimized:!1});else{const n=et.getBoundingClientRect();Jt({x:n.left,y:n.top,width:n.width,height:n.height,visible:e,minimized:!0})}et.style.display=e?"block":"none",Tt(!e)}chrome.runtime.onMessage.addListener(t=>(t.type==="toggle-panel"&&Rt(),!0));en();
