chrome.action.onClicked.addListener(()=>{chrome.tabs.query({active:!0,currentWindow:!0},e=>{e[0]?.id&&chrome.tabs.sendMessage(e[0].id,{type:"toggle-panel"}).catch(t=>{t.message.includes("Receiving end does not exist")&&chrome.scripting.executeScript({target:{tabId:e[0].id},files:["content-script.js"]}).then(()=>{setTimeout(()=>{chrome.tabs.sendMessage(e[0].id,{type:"toggle-panel"}).catch(()=>{})},100)}).catch(()=>{})})})});
