var an=Array.isArray,un=Array.prototype.indexOf,cn=Array.from,hn=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,we=Object.getOwnPropertyDescriptors,dn=Object.prototype,_n=Array.prototype,Wt=Object.getPrototypeOf,fe=Object.isExtensible;function Rr(t){return t()}function vn(t){for(var e=0;e<t.length;e++)t[e]()}function be(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const k=2,Dt=4,It=8,J=16,X=32,rt=64,Ct=128,L=512,S=1024,I=2048,K=4096,q=8192,$=16384,Gt=32768,ot=65536,le=1<<17,Ee=1<<18,ct=1<<19,xe=1<<20,wt=32768,Vt=1<<21,Zt=1<<22,G=1<<23,lt=Symbol("$state"),pn=Symbol(""),st=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function gn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function mn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function yn(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bn(t){throw new Error("https://svelte.dev/e/effect_orphan")}function En(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Sn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function kn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Mn=2,E=Symbol(),Nn="http://www.w3.org/1999/xhtml";function An(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Se(t){return t===this.v}function Rn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function On(t){return!Rn(t,this.v)}let Pt=!1;function Dr(){Pt=!0}let b=null;function at(t){b=t}function Te(t,e=!1,n){b={p:b,i:!1,c:null,e:null,s:t,x:null,l:Pt&&!e?{s:null,u:null,$:[]}:null}}function ke(t){var e=b,n=e.e;if(n!==null){e.e=null;for(var r of n)Be(r)}return e.i=!0,b=e.p,{}}function xt(){return!Pt||b!==null&&b.l===null}let ft=[];function Dn(){var t=ft;ft=[],vn(t)}function Lt(t){if(ft.length===0){var e=ft;queueMicrotask(()=>{e===ft&&Dn()})}ft.push(t)}function Me(t){var e=g;if(e===null)return p.f|=G,t;if((e.f&Gt)===0){if((e.f&Ct)===0)throw t;e.b.error(t)}else ut(t,e)}function ut(t,e){for(;e!==null;){if((e.f&Ct)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const kt=new Set;let y=null,O=null,W=[],Qt=null,Ht=!1;class z{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#n=0;#r=0;#o=null;#f=[];#l=[];skipped_effects=new Set;is_fork=!1;process(e){W=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#i(r,n);this.is_fork||this.#a(),this.#r>0||this.is_fork?(this.#s(n.effects),this.#s(n.render_effects),this.#s(n.block_effects)):(y=null,oe(n.render_effects),oe(n.effects),this.#o?.resolve()),O=null}#i(e,n){e.f^=S;for(var r=e.first;r!==null;){var i=r.f,s=(i&(X|rt))!==0,f=s&&(i&S)!==0,o=f||(i&q)!==0||this.skipped_effects.has(r);if((r.f&Ct)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!o&&r.fn!==null){s?r.f^=S:(i&Dt)!==0?n.effects.push(r):St(r)&&((r.f&J)!==0&&n.block_effects.push(r),Et(r));var l=r.first;if(l!==null){r=l;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)a===n.effect&&(this.#s(n.effects),this.#s(n.render_effects),this.#s(n.block_effects),n=n.parent),r=a.next,a=a.parent}}#s(e){for(const n of e)((n.f&I)!==0?this.#f:this.#l).push(n),T(n,S)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&G)===0&&(this.current.set(e,e.v),O?.set(e,e.v))}activate(){y=this,this.apply()}deactivate(){y=null,O=null}flush(){if(this.activate(),W.length>0){if(In(),y!==null&&y!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#e)e(this);this.#e.clear()}#a(){if(this.#r===0){for(const e of this.#t)e();this.#t.clear()}this.#n===0&&this.#u()}#u(){if(kt.size>1){this.previous.clear();var e=O,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of kt){if(i===this){n=!1;continue}const s=[];for(const[o,l]of this.current){if(i.current.has(o))if(n&&l!==i.current.get(o))i.current.set(o,l);else continue;s.push(o)}if(s.length===0)continue;const f=[...i.current.keys()].filter(o=>!this.current.has(o));if(f.length>0){const o=new Set,l=new Map;for(const a of s)Ne(a,f,o,l);if(W.length>0){y=i,i.apply();for(const a of W)i.#i(a,r);W=[],i.deactivate()}}}y=null,O=e}this.committed=!0,kt.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#f)T(e,I),nt(e);for(const e of this.#l)T(e,K),nt(e);this.#f=[],this.#l=[],this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#e.add(e)}settled(){return(this.#o??=be()).promise}static ensure(){if(y===null){const e=y=new z;kt.add(y),z.enqueue(()=>{y===e&&e.flush()})}return y}static enqueue(e){Lt(e)}apply(){}}function In(){var t=tt;Ht=!0;try{var e=0;for(ue(!0);W.length>0;){var n=z.ensure();if(e++>1e3){var r,i;Cn()}n.process(W),Z.clear()}}finally{Ht=!1,ue(t),Qt=null}}function Cn(){try{En()}catch(t){ut(t,Qt)}}let U=null;function oe(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&($|q))===0&&St(r)&&(U=new Set,Et(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Je(r):r.fn=null),U?.size>0)){Z.clear();for(const i of U){if((i.f&($|q))!==0)continue;const s=[i];let f=i.parent;for(;f!==null;)U.has(f)&&(U.delete(f),s.push(f)),f=f.parent;for(let o=s.length-1;o>=0;o--){const l=s[o];(l.f&($|q))===0&&Et(l)}}U.clear()}}U=null}}function Ne(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&k)!==0?Ne(i,e,n,r):(s&(Zt|J))!==0&&(s&I)===0&&Ae(i,e,r)&&(T(i,I),nt(i))}}function Ae(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&k)!==0&&Ae(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function nt(t){for(var e=Qt=t;e.parent!==null;){e=e.parent;var n=e.f;if(Ht&&e===g&&(n&J)!==0&&(n&Ee)===0)return;if((n&(rt|X))!==0){if((n&S)===0)return;e.f^=S}}W.push(e)}function Pn(t){let e=0,n=Ft(0),r;return()=>{zt()&&(_(n),Ye(()=>(e===0&&(r=ee(()=>t(()=>mt(n)))),e+=1,()=>{Lt(()=>{e-=1,e===0&&(r?.(),r=void 0,mt(n))})})))}}var Ln=ot|ct|Ct;function Fn(t,e,n){new zn(t,e,n)}class zn{parent;#t=!1;#e;#n=null;#r;#o;#f;#l=null;#i=null;#s=null;#a=null;#u=null;#d=0;#c=0;#_=!1;#h=null;#y=Pn(()=>(this.#h=Ft(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#e=e,this.#r=n,this.#o=r,this.parent=g.b,this.#t=!!this.#r.pending,this.#f=Ue(()=>{g.b=this;{var i=this.#g();try{this.#l=V(()=>r(i))}catch(s){this.error(s)}this.#c>0?this.#p():this.#t=!1}return()=>{this.#u?.remove()}},Ln)}#w(){try{this.#l=V(()=>this.#o(this.#e))}catch(e){this.error(e)}this.#t=!1}#b(){const e=this.#r.pending;e&&(this.#i=V(()=>e(this.#e)),z.enqueue(()=>{var n=this.#g();this.#l=this.#v(()=>(z.ensure(),V(()=>this.#o(n)))),this.#c>0?this.#p():(yt(this.#i,()=>{this.#i=null}),this.#t=!1)}))}#g(){var e=this.#e;return this.#t&&(this.#u=Rt(),this.#e.before(this.#u),e=this.#u),e}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#v(e){var n=g,r=p,i=b;B(this.#f),A(this.#f),at(this.#f.ctx);try{return e()}catch(s){return Me(s),null}finally{B(n),A(r),at(i)}}#p(){const e=this.#r.pending;this.#l!==null&&(this.#a=document.createDocumentFragment(),this.#a.append(this.#u),We(this.#l,this.#a)),this.#i===null&&(this.#i=V(()=>e(this.#e)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#c+=e,this.#c===0&&(this.#t=!1,this.#i&&yt(this.#i,()=>{this.#i=null}),this.#a&&(this.#e.before(this.#a),this.#a=null))}update_pending_count(e){this.#m(e),this.#d+=e,this.#h&&At(this.#h,this.#d)}get_effect_pending(){return this.#y(),_(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#_||!n&&!r)throw e;this.#l&&(D(this.#l),this.#l=null),this.#i&&(D(this.#i),this.#i=null),this.#s&&(D(this.#s),this.#s=null);var i=!1,s=!1;const f=()=>{if(i){An();return}i=!0,s&&kn(),z.ensure(),this.#d=0,this.#s!==null&&yt(this.#s,()=>{this.#s=null}),this.#t=this.has_pending_snippet(),this.#l=this.#v(()=>(this.#_=!1,V(()=>this.#o(this.#e)))),this.#c>0?this.#p():this.#t=!1};var o=p;try{A(null),s=!0,n?.(e,f),s=!1}catch(l){ut(l,this.#f&&this.#f.parent)}finally{A(o)}r&&Lt(()=>{this.#s=this.#v(()=>{z.ensure(),this.#_=!0;try{return V(()=>{r(this.#e,()=>e,()=>f)})}catch(l){return ut(l,this.#f.parent),null}finally{this.#_=!1}})})}}function jn(t,e,n,r){const i=xt()?Re:Yn;if(n.length===0&&t.length===0){r(e.map(i));return}var s=y,f=g,o=qn();function l(){Promise.all(n.map(a=>Bn(a))).then(a=>{o();try{r([...e.map(i),...a])}catch(c){(f.f&$)===0&&ut(c,f)}s?.deactivate(),Nt()}).catch(a=>{ut(a,f)})}t.length>0?Promise.all(t).then(()=>{o();try{return l()}finally{s?.deactivate(),Nt()}}):l()}function qn(){var t=g,e=p,n=b,r=y;return function(s=!0){B(t),A(e),at(n),s&&r?.activate()}}function Nt(){B(null),A(null),at(null)}function Re(t){var e=k|I,n=p!==null&&(p.f&k)!==0?p:null;return g!==null&&(g.f|=ct),{ctx:b,deps:null,effects:null,equals:Se,f:e,fn:t,reactions:null,rv:0,v:E,wv:0,parent:n??g,ac:null}}function Bn(t,e){let n=g;n===null&&mn();var r=n.b,i=void 0,s=Ft(E),f=!p,o=new Map;return Qn(()=>{var l=be();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{a===y&&a.committed&&a.deactivate(),Nt()})}catch(u){l.reject(u),Nt()}var a=y;if(f){var c=!r.is_pending();r.update_pending_count(1),a.increment(c),o.get(a)?.reject(st),o.delete(a),o.set(a,l)}const d=(u,h=void 0)=>{if(a.activate(),h)h!==st&&(s.f|=G,At(s,h));else{(s.f&G)!==0&&(s.f^=G),At(s,u);for(const[m,P]of o){if(o.delete(m),m===a)break;P.reject(st)}}f&&(r.update_pending_count(-1),a.decrement(c))};l.promise.then(d,u=>d(null,u||"unknown"))}),Kn(()=>{for(const l of o.values())l.reject(st)}),new Promise(l=>{function a(c){function d(){c===i?l(s):a(i)}c.then(d,d)}a(i)})}function Yn(t){const e=Re(t);return e.equals=On,e}function Oe(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)D(e[n])}}function Un(t){for(var e=t.parent;e!==null;){if((e.f&k)===0)return e;e=e.parent}return null}function $t(t){var e,n=g;B(Un(t));try{t.f&=~wt,Oe(t),e=$e(t)}finally{B(n)}return e}function De(t){var e=$t(t);if(t.equals(e)||(t.v=e,t.wv=Ze()),!ht)if(O!==null)zt()&&O.set(t,t.v);else{var n=(t.f&L)===0?K:S;T(t,n)}}let Jt=new Set;const Z=new Map;let Ie=!1;function Ft(t,e){var n={f:0,v:t,reactions:null,equals:Se,rv:0,wv:0};return n}function x(t,e){const n=Ft(t);return ir(n),n}function w(t,e,n=!1){p!==null&&(!j||(p.f&le)!==0)&&xt()&&(p.f&(k|J|Zt|le))!==0&&!H?.includes(t)&&Tn();let r=n?Q(e):e;return At(t,r)}function At(t,e){if(!t.equals(e)){var n=t.v;ht?Z.set(t,e):Z.set(t,n),t.v=e;var r=z.ensure();r.capture(t,n),(t.f&k)!==0&&((t.f&I)!==0&&$t(t),T(t,(t.f&L)!==0?S:K)),t.wv=Ze(),Ce(t,I),xt()&&g!==null&&(g.f&S)!==0&&(g.f&(X|rt))===0&&(C===null?sr([t]):C.push(t)),!r.is_fork&&Jt.size>0&&!Ie&&Vn()}return e}function Vn(){Ie=!1;const t=Array.from(Jt);for(const e of t)(e.f&S)!==0&&T(e,K),St(e)&&Et(e);Jt.clear()}function mt(t){w(t,t.v+1)}function Ce(t,e){var n=t.reactions;if(n!==null)for(var r=xt(),i=n.length,s=0;s<i;s++){var f=n[s],o=f.f;if(!(!r&&f===g)){var l=(o&I)===0;if(l&&T(f,e),(o&k)!==0){var a=f;O?.delete(a),(o&wt)===0&&(o&L&&(f.f|=wt),Ce(a,K))}else l&&((o&J)!==0&&U!==null&&U.add(f),nt(f))}}}function Q(t){if(typeof t!="object"||t===null||lt in t)return t;const e=Wt(t);if(e!==dn&&e!==_n)return t;var n=new Map,r=an(t),i=x(0),s=et,f=o=>{if(et===s)return o();var l=p,a=et;A(null),he(s);var c=o();return A(l),he(a),c};return r&&n.set("length",x(t.length)),new Proxy(t,{defineProperty(o,l,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&xn();var c=n.get(l);return c===void 0?c=f(()=>{var d=x(a.value);return n.set(l,d),d}):w(c,a.value,!0),!0},deleteProperty(o,l){var a=n.get(l);if(a===void 0){if(l in o){const c=f(()=>x(E));n.set(l,c),mt(i)}}else w(a,E),mt(i);return!0},get(o,l,a){if(l===lt)return t;var c=n.get(l),d=l in o;if(c===void 0&&(!d||gt(o,l)?.writable)&&(c=f(()=>{var h=Q(d?o[l]:E),m=x(h);return m}),n.set(l,c)),c!==void 0){var u=_(c);return u===E?void 0:u}return Reflect.get(o,l,a)},getOwnPropertyDescriptor(o,l){var a=Reflect.getOwnPropertyDescriptor(o,l);if(a&&"value"in a){var c=n.get(l);c&&(a.value=_(c))}else if(a===void 0){var d=n.get(l),u=d?.v;if(d!==void 0&&u!==E)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return a},has(o,l){if(l===lt)return!0;var a=n.get(l),c=a!==void 0&&a.v!==E||Reflect.has(o,l);if(a!==void 0||g!==null&&(!c||gt(o,l)?.writable)){a===void 0&&(a=f(()=>{var u=c?Q(o[l]):E,h=x(u);return h}),n.set(l,a));var d=_(a);if(d===E)return!1}return c},set(o,l,a,c){var d=n.get(l),u=l in o;if(r&&l==="length")for(var h=a;h<d.v;h+=1){var m=n.get(h+"");m!==void 0?w(m,E):h in o&&(m=f(()=>x(E)),n.set(h+"",m))}if(d===void 0)(!u||gt(o,l)?.writable)&&(d=f(()=>x(void 0)),w(d,Q(a)),n.set(l,d));else{u=d.v!==E;var P=f(()=>Q(a));w(d,P)}var F=Reflect.getOwnPropertyDescriptor(o,l);if(F?.set&&F.set.call(c,a),!u){if(r&&typeof l=="string"){var _t=n.get("length"),vt=Number(l);Number.isInteger(vt)&&vt>=_t.v&&w(_t,vt+1)}mt(i)}return!0},ownKeys(o){_(i);var l=Reflect.ownKeys(o).filter(d=>{var u=n.get(d);return u===void 0||u.v!==E});for(var[a,c]of n)c.v!==E&&!(a in o)&&l.push(a);return l},setPrototypeOf(){Sn()}})}var ae,Pe,Le,Fe;function Hn(){if(ae===void 0){ae=window,Pe=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Le=gt(e,"firstChild").get,Fe=gt(e,"nextSibling").get,fe(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),fe(n)&&(n.__t=void 0)}}function Rt(t=""){return document.createTextNode(t)}function ze(t){return Le.call(t)}function te(t){return Fe.call(t)}function Bt(t,e){return ze(t)}function Yt(t,e=1,n=!1){let r=t;for(;e--;)r=te(r);return r}function Jn(){return!1}function je(t){var e=p,n=g;A(null),B(null);try{return t()}finally{A(e),B(n)}}function qe(t){g===null&&(p===null&&bn(),wn()),ht&&yn()}function Xn(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Y(t,e,n,r=!0){var i=g;i!==null&&(i.f&q)!==0&&(t|=q);var s={ctx:b,deps:null,nodes_start:null,nodes_end:null,f:t|I|L,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Et(s),s.f|=Gt}catch(l){throw D(s),l}else e!==null&&nt(s);if(r){var f=s;if(n&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&ct)===0&&(f=f.first,(t&J)!==0&&(t&ot)!==0&&f!==null&&(f.f|=ot)),f!==null&&(f.parent=i,i!==null&&Xn(f,i),p!==null&&(p.f&k)!==0&&(t&rt)===0)){var o=p;(o.effects??=[]).push(f)}}return s}function zt(){return p!==null&&!j}function Kn(t){const e=Y(It,null,!1);return T(e,S),e.teardown=t,e}function Wn(t){qe();var e=g.f,n=!p&&(e&X)!==0&&(e&Gt)===0;if(n){var r=b;(r.e??=[]).push(t)}else return Be(t)}function Be(t){return Y(Dt|xe,t,!1)}function Ir(t){return qe(),Y(It|xe,t,!0)}function Gn(t){z.ensure();const e=Y(rt|ct,t,!0);return(n={})=>new Promise(r=>{n.outro?yt(e,()=>{D(e),r(void 0)}):(D(e),r(void 0))})}function Zn(t){return Y(Dt,t,!1)}function Qn(t){return Y(Zt|ct,t,!0)}function Ye(t,e=0){return Y(It|e,t,!0)}function $n(t,e=[],n=[],r=[],i=!1){jn(r,e,n,s=>{Y(i?Dt:It,()=>t(...s.map(_)),!0)})}function Ue(t,e=0){var n=Y(J|e,t,!0);return n}function V(t,e=!0){return Y(X|ct,t,!0,e)}function Ve(t){var e=t.teardown;if(e!==null){const n=ht,r=p;ce(!0),A(null);try{e.call(null)}finally{ce(n),A(r)}}}function He(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&je(()=>{i.abort(st)});var r=n.next;(n.f&rt)!==0?n.parent=null:D(n,e),n=r}}function tr(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&X)===0&&D(e),e=n}}function D(t,e=!0){var n=!1;(e||(t.f&Ee)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(er(t.nodes_start,t.nodes_end),n=!0),He(t,e&&!n),Ot(t,0),T(t,$);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Ve(t);var i=t.parent;i!==null&&i.first!==null&&Je(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function er(t,e){for(;t!==null;){var n=t===e?null:te(t);t.remove(),t=n}}function Je(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function yt(t,e,n=!0){var r=[];Xe(t,r,!0),nr(r,()=>{n&&D(t),e&&e()})}function nr(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function Xe(t,e,n){if((t.f&q)===0){if(t.f^=q,t.transitions!==null)for(const f of t.transitions)(f.is_global||n)&&e.push(f);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&ot)!==0||(r.f&X)!==0&&(t.f&J)!==0;Xe(r,e,s?n:!1),r=i}}}function rr(t){Ke(t,!0)}function Ke(t,e){if((t.f&q)!==0){t.f^=q,(t.f&S)===0&&(T(t,I),nt(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&ot)!==0||(n.f&X)!==0;Ke(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function We(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:te(n);e.append(n),n=i}}let tt=!1;function ue(t){tt=t}let ht=!1;function ce(t){ht=t}let p=null,j=!1;function A(t){p=t}let g=null;function B(t){g=t}let H=null;function ir(t){p!==null&&(H===null?H=[t]:H.push(t))}let M=null,R=0,C=null;function sr(t){C=t}let Ge=1,bt=0,et=bt;function he(t){et=t}function Ze(){return++Ge}function St(t){var e=t.f;if((e&I)!==0)return!0;if(e&k&&(t.f&=~wt),(e&K)!==0){var n=t.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(St(s)&&De(s),s.wv>t.wv)return!0}(e&L)!==0&&O===null&&T(t,S)}return!1}function Qe(t,e,n=!0){var r=t.reactions;if(r!==null&&!H?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&k)!==0?Qe(s,e,!1):e===s&&(n?T(s,I):(s.f&S)!==0&&T(s,K),nt(s))}}function $e(t){var e=M,n=R,r=C,i=p,s=H,f=b,o=j,l=et,a=t.f;M=null,R=0,C=null,p=(a&(X|rt))===0?t:null,H=null,at(t.ctx),j=!1,et=++bt,t.ac!==null&&(je(()=>{t.ac.abort(st)}),t.ac=null);try{t.f|=Vt;var c=t.fn,d=c(),u=t.deps;if(M!==null){var h;if(Ot(t,R),u!==null&&R>0)for(u.length=R+M.length,h=0;h<M.length;h++)u[R+h]=M[h];else t.deps=u=M;if(tt&&zt()&&(t.f&L)!==0)for(h=R;h<u.length;h++)(u[h].reactions??=[]).push(t)}else u!==null&&R<u.length&&(Ot(t,R),u.length=R);if(xt()&&C!==null&&!j&&u!==null&&(t.f&(k|K|I))===0)for(h=0;h<C.length;h++)Qe(C[h],t);return i!==null&&i!==t&&(bt++,C!==null&&(r===null?r=C:r.push(...C))),(t.f&G)!==0&&(t.f^=G),d}catch(m){return Me(m)}finally{t.f^=Vt,M=e,R=n,C=r,p=i,H=s,at(f),j=o,et=l}}function fr(t,e){let n=e.reactions;if(n!==null){var r=un.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&k)!==0&&(M===null||!M.includes(e))&&(T(e,K),(e.f&L)!==0&&(e.f^=L,e.f&=~wt),Oe(e),Ot(e,0))}function Ot(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)fr(t,n[r])}function Et(t){var e=t.f;if((e&$)===0){T(t,S);var n=g,r=tt;g=t,tt=!0;try{(e&J)!==0?tr(t):He(t),Ve(t);var i=$e(t);t.teardown=typeof i=="function"?i:null,t.wv=Ge;var s}finally{tt=r,g=n}}}function _(t){var e=t.f,n=(e&k)!==0;if(p!==null&&!j){var r=g!==null&&(g.f&$)!==0;if(!r&&!H?.includes(t)){var i=p.deps;if((p.f&Vt)!==0)t.rv<bt&&(t.rv=bt,M===null&&i!==null&&i[R]===t?R++:M===null?M=[t]:M.includes(t)||M.push(t));else{(p.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[p]:s.includes(p)||s.push(p)}}}if(ht){if(Z.has(t))return Z.get(t);if(n){var f=t,o=f.v;return((f.f&S)===0&&f.reactions!==null||en(f))&&(o=$t(f)),Z.set(f,o),o}}else if(n){if(f=t,O?.has(f))return O.get(f);St(f)&&De(f),tt&&zt()&&(f.f&L)===0&&tn(f)}else if(O?.has(t))return O.get(t);if((t.f&G)!==0)throw t.v;return t.v}function tn(t){if(t.deps!==null){t.f^=L;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&k)!==0&&(e.f&L)===0&&tn(e)}}function en(t){if(t.v===E)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Z.has(e)||(e.f&k)!==0&&en(e))return!0;return!1}function ee(t){var e=j;try{return j=!0,t()}finally{j=e}}const lr=-7169;function T(t,e){t.f=t.f&lr|e}function Cr(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(lt in t)Xt(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&lt in n&&Xt(n)}}}function Xt(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Xt(t[r],e)}catch{}const n=Wt(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=we(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}const or=["touchstart","touchmove"];function ar(t){return or.includes(t)}const nn=new Set,Kt=new Set;function ur(t){for(var e=0;e<t.length;e++)nn.add(t[e]);for(var n of Kt)n(t)}let de=null;function Mt(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;de=t;var f=0,o=de===t&&t.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var a=i.indexOf(e);if(a===-1)return;l<=a&&(f=l)}if(s=i[f]||t.target,s!==e){hn(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=p,d=g;A(null),B(null);try{for(var u,h=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var P=s["__"+r];P!=null&&(!s.disabled||t.target===s)&&P.call(s,t)}catch(F){u?h.push(F):u=F}if(t.cancelBubble||m===e||m===null)break;s=m}if(u){for(let F of h)queueMicrotask(()=>{throw F});throw u}}finally{t.__root=e,delete t.currentTarget,A(c),B(d)}}}function cr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function hr(t,e){var n=g;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function rn(t,e){var n=(e&Mn)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=cr(i?t:"<!>"+t),r=ze(r));var s=n||Pe?document.importNode(r,!0):r.cloneNode(!0);return hr(s,s),s}}function _e(t,e){t!==null&&t.before(e)}function Pr(t,e){return dr(t,e)}const it=new Map;function dr(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:f=!0}){Hn();var o=new Set,l=d=>{for(var u=0;u<d.length;u++){var h=d[u];if(!o.has(h)){o.add(h);var m=ar(h);e.addEventListener(h,Mt,{passive:m});var P=it.get(h);P===void 0?(document.addEventListener(h,Mt,{passive:m}),it.set(h,1)):it.set(h,P+1)}}};l(cn(nn)),Kt.add(l);var a=void 0,c=Gn(()=>{var d=n??e.appendChild(Rt());return Fn(d,{pending:()=>{}},u=>{if(s){Te({});var h=b;h.c=s}i&&(r.$$events=i),a=t(u,r)||{},s&&ke()}),()=>{for(var u of o){e.removeEventListener(u,Mt);var h=it.get(u);--h===0?(document.removeEventListener(u,Mt),it.delete(u)):it.set(u,h)}Kt.delete(l),d!==n&&d.parentNode?.removeChild(d)}});return _r.set(a,c),a}let _r=new WeakMap;class vr{anchor;#t=new Map;#e=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#o=()=>{var e=y;if(this.#t.has(e)){var n=this.#t.get(e),r=this.#e.get(n);if(r)rr(r);else{var i=this.#n.get(n);i&&(this.#e.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,f]of this.#t){if(this.#t.delete(s),s===e)break;const o=this.#n.get(f);o&&(D(o.effect),this.#n.delete(f))}for(const[s,f]of this.#e){if(s===n)continue;const o=()=>{if(Array.from(this.#t.values()).includes(s)){var a=document.createDocumentFragment();We(f,a),a.append(Rt()),this.#n.set(s,{effect:f,fragment:a})}else D(f);this.#e.delete(s)};this.#r||!r?yt(f,o,!1):o()}}};#f=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[r,i]of this.#n)n.includes(r)||(D(i.effect),this.#n.delete(r))};ensure(e,n){var r=y,i=Jn();if(n&&!this.#e.has(e)&&!this.#n.has(e))if(i){var s=document.createDocumentFragment(),f=Rt();s.append(f),this.#n.set(e,{effect:V(()=>n(f)),fragment:s})}else this.#e.set(e,V(()=>n(this.anchor)));if(this.#t.set(r,e),i){for(const[o,l]of this.#e)o===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[o,l]of this.#n)o===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#o),r.ondiscard(this.#f)}else this.#o()}}function pr(t,e,n=!1){var r=new vr(t),i=n?ot:0;function s(f,o){r.ensure(f,o)}Ue(()=>{var f=!1;e((o,l=!0)=>{f=!0,s(l,o)}),f||s(!1,null)},i)}const ve=[...` 	
\r\f \v\uFEFF`];function gr(t,e,n){var r=t==null?"":""+t;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,f=0;(f=r.indexOf(i,f))>=0;){var o=f+s;(f===0||ve.includes(r[f-1]))&&(o===r.length||ve.includes(r[o]))?r=(f===0?"":r.substring(0,f))+r.substring(o+1):f=o}}return r===""?null:r}function pe(t,e,n,r,i,s){var f=t.__className;if(f!==n||f===void 0){var o=gr(n,r,s);o==null?t.removeAttribute("class"):t.className=o,t.__className=n}else if(s&&i!==s)for(var l in s){var a=!!s[l];(i==null||a!==!!i[l])&&t.classList.toggle(l,a)}return s}const mr=Symbol("is custom element"),yr=Symbol("is html");function Ut(t,e,n,r){var i=wr(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[pn]=n),n==null?t.removeAttribute(e):typeof n!="string"&&br(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function wr(t){return t.__attributes??={[mr]:t.nodeName.includes("-"),[yr]:t.namespaceURI===Nn}}var ge=new Map;function br(t){var e=t.getAttribute("is")||t.nodeName,n=ge.get(e);if(n)return n;ge.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=we(i);for(var f in r)r[f].set&&n.push(f);i=Wt(i)}return n}function me(t,e){return t===e||t?.[lt]===e}function ye(t={},e,n,r){return Zn(()=>{var i,s;return Ye(()=>{i=s,s=[],ee(()=>{t!==n(...s)&&(e(t,...s),i&&me(n(...i),t)&&e(null,...i))})}),()=>{Lt(()=>{s&&me(n(...s),t)&&e(null,...s)})}}),t}function Er(t,e,n,r){var i=r,s=!0,f=()=>(s&&(s=!1,i=r),i),o;o=t[e],o===void 0&&r!==void 0&&(o=f());var l;return l=()=>{var a=t[e];return a===void 0?f():(s=!0,a)},l}function xr(t){b===null&&gn(),Pt&&b.l!==null?Sr(b).m.push(t):Wn(()=>{const e=ee(t);if(typeof e=="function")return e})}function Sr(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Tr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Tr);function dt(){try{return typeof chrome<"u"&&!!chrome.runtime?.id}catch{return!1}}async function kr(){return new Promise(t=>{try{if(!dt()){t(localStorage.getItem("cs_note")||"");return}chrome.storage.sync.get(["content"],e=>{if(chrome.runtime?.lastError){t(localStorage.getItem("cs_note")||"");return}t(e.content||"")})}catch{t(localStorage.getItem("cs_note")||"")}})}async function Mr(t){try{if(!dt()){localStorage.setItem("cs_note",t);return}await chrome.storage.sync.set({content:t})}catch{try{localStorage.setItem("cs_note",t)}catch{}}}async function Lr(){return new Promise(t=>{const e=()=>{try{const n=localStorage.getItem("cs_layout");t(n?JSON.parse(n):{})}catch{t({})}};try{if(!dt()){e();return}chrome.storage.sync.get(["layout"],n=>{if(chrome.runtime?.lastError){e();return}t(n.layout||{})})}catch{e()}})}async function Fr(t){try{if(!dt()){localStorage.setItem("cs_layout",JSON.stringify(t));return}await chrome.storage.sync.set({layout:t})}catch{try{localStorage.setItem("cs_layout",JSON.stringify(t))}catch{}}}async function zr(){return new Promise(t=>{const e=()=>{try{const n=localStorage.getItem("cs_button_layout");t(n?JSON.parse(n):{})}catch{t({})}};try{if(!dt()){e();return}chrome.storage.sync.get(["buttonLayout"],n=>{if(chrome.runtime?.lastError){e();return}t(n.buttonLayout||{})})}catch{e()}})}async function jr(t){try{if(!dt()){localStorage.setItem("cs_button_layout",JSON.stringify(t));return}await chrome.storage.sync.set({buttonLayout:t})}catch{try{localStorage.setItem("cs_button_layout",JSON.stringify(t))}catch{}}}var Nr=rn('<div class="resize-handle svelte-1ou1zgf" role="button" tabindex="0" aria-label="Resize panel"></div>'),Ar=rn('<div><div role="button" tabindex="0"><div class="header-title svelte-1ou1zgf">Notes</div> <button class="minimize-button svelte-1ou1zgf">−</button></div> <div class="editor-container svelte-1ou1zgf"><div class="editor svelte-1ou1zgf" contenteditable="true" role="textbox" aria-label="Note editor"></div></div> <!></div>');function qr(t,e){Te(e,!0);let n=Er(e,"tabMode",3,!1),r=x(""),i=x(null),s=x(!1),f=x(!1),o=x(Q({x:0,y:0})),l=x(Q({x:0,y:0,width:0,height:0})),a=x(null),c=x(null),d=null;function u(v){d&&clearTimeout(d),d=setTimeout(()=>{Mr(v)},300)}function h(v){const N=v.target;w(r,N.innerText||"",!0),u(_(r))}function m(v){if(!_(a)||n())return;w(s,!0);const N=_(a).getBoundingClientRect();w(o,{x:v.clientX-N.left,y:v.clientY-N.top},!0),v.preventDefault(),v.stopPropagation()}function P(v){if(!_(a)||n())return;w(f,!0);const N=_(a).getBoundingClientRect();w(l,{x:v.clientX,y:v.clientY,width:N.width,height:N.height},!0),v.preventDefault(),v.stopPropagation()}function F(v){if(_(s)&&_(a)&&_(c)){const N=v.clientX-_(o).x,qt=v.clientY-_(o).y;_(c).style.left=`${Math.max(0,Math.min(N,window.innerWidth-100))}px`,_(c).style.top=`${Math.max(0,Math.min(qt,window.innerHeight-100))}px`}if(_(f)&&_(a)&&_(c)){const N=v.clientX-_(l).x,qt=v.clientY-_(l).y,ln=_(l).width+N,on=_(l).height+qt;_(c).style.width=`${Math.max(300,ln)}px`,_(c).style.height=`${Math.max(200,on)}px`}}function _t(){if((_(s)||_(f))&&_(c)&&e.onLayoutChange){const v=_(c).getBoundingClientRect();e.onLayoutChange({x:v.left,y:v.top,width:v.width,height:v.height})}w(s,!1),w(f,!1)}function vt(){n()?chrome.runtime.sendMessage({type:"close-notes-tab"}).catch(()=>{}):e.onMinimize&&e.onMinimize()}xr(()=>(n()||w(c,document.getElementById("extension-root"),!0),kr().then(v=>{w(r,v,!0),_(i)&&v&&(_(i).textContent=v)}),n()||(document.addEventListener("mousemove",F),document.addEventListener("mouseup",_t)),()=>{n()||(document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",_t)),d&&clearTimeout(d)}));var Tt=Ar();let ne;var pt=Bt(Tt);let re;pt.__mousedown=m;var jt=Yt(Bt(pt),2);jt.__click=v=>{v.stopPropagation(),vt()};var ie=Yt(pt,2),se=Bt(ie);se.__input=h,ye(se,v=>w(i,v),()=>_(i));var sn=Yt(ie,2);{var fn=v=>{var N=Nr();N.__mousedown=P,_e(v,N)};pr(sn,v=>{n()||v(fn)})}ye(Tt,v=>w(a,v),()=>_(a)),$n(()=>{ne=pe(Tt,1,"panel svelte-1ou1zgf",null,ne,{dragging:_(s),resizing:_(f)}),re=pe(pt,1,"header svelte-1ou1zgf",null,re,{"tab-mode":n()}),Ut(pt,"aria-label",n()?"Notes header":"Drag to move panel"),Ut(jt,"aria-label",n()?"Close tab":"Minimize panel"),Ut(jt,"title",n()?"Close":"Minimize")}),_e(t,Tt),ke()}ur(["mousedown","click","input"]);export{Dr as A,Bt as B,qr as P,Q as a,ye as b,_e as c,ur as d,ke as e,rn as f,_ as g,w as h,pe as i,jr as j,Lr as k,zr as l,Pr as m,Fr as n,xr as o,Te as p,b as q,Wn as r,x as s,$n as t,Ir as u,ee as v,vn as w,Rr as x,Cr as y,Re as z};
